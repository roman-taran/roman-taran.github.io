(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){e.exports=n(327)},154:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),l=n(21),c=n(13),d=n(63),s=n.n(d),u=n(121),m=n(122),p=n(123),E=n(22),O={FETCH_TODO_FAILURE:"FETCH_TODO_FAILURE",FETCH_TODO_REQUEST:"FETCH_TODO_REQUEST",FETCH_TODO_SUCCESS:"FETCH_TODO_SUCCESS",ADD_TODO:"ADD_TODO",DELETE_TODO:"DELETE_TODO",DONE_TODO:"DONE_TODO",CHANGE_TODO:"CHANGE_TODO",SHOW_MODAL:"SHOW_MODAL",TOGGLE_ALERT:"TOGGLE_ALERT",SET_FILTER:"SET_FILTER",FILTERING_ALL:"FILTERING_ALL",FILTERING_COMPLETED:"FILTERING_COMPLETED"},f={dialog:!1,alert:!1},h=n(142),b={fetching:!1,load:!1,todoList:[]},T={filteringTodo:O.FILTERING_ALL},g=Object(m.createLogger)(),v=Object(c.combineReducers)({todoApp:s()(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.FETCH_TODO_REQUEST:return Object(E.a)({},e,{fetching:t.fetching});case O.FETCH_TODO_SUCCESS:return Object(E.a)({},e,{load:!0,todoList:t.todoList});case O.FETCH_TODO_FAILURE:return Object(E.a)({},e,{load:!1,error:t.error});case O.ADD_TODO:return Object(E.a)({},e,{todoList:Object(h.a)(e.todoList).concat([t.newItem])});case O.DELETE_TODO:return Object(E.a)({},e,{todoList:e.todoList.filter(function(e){return e.id!==t.id})});case O.DONE_TODO:return Object(E.a)({},e,{todoList:e.todoList.map(function(e){return e.id===t.id?Object(E.a)({},e,{completed:!e.completed}):e})});case O.CHANGE_TODO:return Object(E.a)({},e,{todoList:e.todoList.map(function(e){return e.id===t.id?Object(E.a)({},e,{title:t.text}):e})});default:return e}},{}),modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SHOW_MODAL:return Object(E.a)({},e,{dialog:t.open});case O.DELETE_TODO:return Object(E.a)({},e,{alert:!0});case O.TOGGLE_ALERT:return Object(E.a)({},e,{alert:t.open});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SET_FILTER:return{filteringTodo:t.filter};default:return e}}}),C=Object(c.createStore)(v,Object(u.composeWithDevTools)(Object(c.applyMiddleware)(p.a,g))),_=(n(154),n(20)),y=n(124),D=n.n(y),j=n(45),L=n.n(j),A=n(125),k=n.n(A),S=n(24),w=n.n(S),H=n(126),I=n.n(H),F=n(23),N=n.n(F),R=Object(_.withStyles)({margin:{marginLeft:"auto"}})(function(e){var t=e.showModal,n=e.classes;return r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(w.a,{item:!0,md:6},r.a.createElement(D.a,{position:"static",color:"inherit"},r.a.createElement(k.a,null,r.a.createElement(L.a,{variant:"h4",color:"textPrimary"},"TODO App"),r.a.createElement(N.a,{color:"primary",className:n.margin,"aria-label":"Add",onClick:function(){return t(!0)}},r.a.createElement(I.a,{fontSize:"large"}))))))});var x=n(33),G=n(34),M=n(37),V=n(35),U=n(38),z=function(e){return function(t){function n(){var e,t;Object(x.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(M.a)(this,(e=Object(V.a)(n)).call.apply(e,[this].concat(r)))).state={valid:!1,value:""},t._handleChange=function(e){var n=e.target.value;t.setState({value:n,valid:!!n})},t._updateState=function(e,n){t.setState({value:e,valid:n})},t}return Object(U.a)(n,t),Object(G.a)(n,[{key:"render",value:function(){var t=this.state,n=t.valid,a=t.value;return r.a.createElement(e,Object.assign({},this.props,{validate:n,validateValue:a,updateState:this._updateState,handleValid:this._handleChange}))}}]),n}(r.a.Component)},W=function(e){return e.todoApp.present.todoList.length},P=function(e){return e.todoApp.present.todoList.filter(function(e){return e.completed}).length},Q="https://jsonplaceholder.typicode.com/todos?userId=1";function B(){return function(e){e(J(!0)),setTimeout(function(){fetch(Q).then(function(t){if(!t.ok)throw Error(t.statusText);return e(J(!1)),t}).then(function(e){return e.json()}).then(function(t){return e((n=t,{type:O.FETCH_TODO_SUCCESS,todoList:n}));var n}).catch(function(t){return e(function(e,t){return console.log(t),{type:O.FETCH_TODO_FAILURE,error:e}}(!0,t))})},1e3)}}function J(e){return{type:O.FETCH_TODO_REQUEST,fetching:e}}function $(e){return{type:O.ADD_TODO,newItem:{userId:1,id:(t=10,n=100,Math.random()*(n-t)+t),title:e,completed:!1}};var t,n}function q(e){return{type:O.DELETE_TODO,id:e}}function K(e){return{type:O.DONE_TODO,id:e}}function X(e,t){return{type:O.CHANGE_TODO,text:t,id:e}}function Y(e){return{type:O.SHOW_MODAL,open:e}}function Z(e){return{type:O.TOGGLE_ALERT,open:e}}function ee(e){return{type:O.SET_FILTER,filter:e}}var te=Object(l.b)(null,function(e){return{showModal:Object(c.bindActionCreators)(Y,e)}})(R),ne=n(139),ae=n.n(ne),re=n(140),oe=n.n(re),ie=n(141),le=n.n(ie),ce=n(36),de=n.n(ce),se=n(127),ue=n.n(se),me=n(128),pe=n.n(me),Ee=Object(_.withStyles)(function(e){return{modalClass:{minWidth:e.myVar.size[400]}}})(function(e){var t=e.open,n=e.handleClose,a=e.title;return r.a.createElement(ue.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(pe.a,{id:"form-dialog-title"}," ",a," "),e.children)}),Oe=n(129),fe=n.n(Oe),he=n(61),be=n.n(he);var Te=Object(l.b)(function(e){var t=e.modal;return e.todoApp,{openAlert:t.alert}},function(e){return{undo:function(){return e(d.ActionCreators.undo())},toggleAlert:Object(c.bindActionCreators)(Z,e)}})(function(e){var t=e.undo,n=e.toggleAlert,a=e.openAlert,o=r.a.createElement("span",{id:"message-id"},"Are you sure you want to delete?"),i=r.a.createElement(de.a,{key:"undo",color:"secondary",size:"small",onClick:function(){t(),n(!1)}}," UNDO ");return r.a.createElement("div",null,r.a.createElement(fe.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,onClose:function(e,t){"timeout"===t&&n(!1)},autoHideDuration:3e3,ContentProps:{"aria-describedby":"message-id"},TransitionComponent:be.a,message:o,action:[i]}))}),ge=n(82),ve=n.n(ge),Ce=n(83),_e=n(25),ye=n(64),De=n.n(ye),je=n(65),Le=n.n(je),Ae=n(46),ke=n.n(Ae),Se=n(131),we=n.n(Se),He=n(66),Ie=n.n(He),Fe=n(130),Ne=n.n(Fe),Re=Object(_.withStyles)(function(e){return{inputStyle:{marginRight:e.myVar.size[100],marginLeft:e.myVar.size[16]}}})(function(e){var t=e.activeClass,n=e.handleChange,a=e.handleClick,o=e.clickHandlers,i=e.validate,l=e.classes,c=e.item;return r.a.createElement(De.a,{className:t,divider:!0},r.a.createElement(Le.a,{tabIndex:1,disableRipple:!0,disabled:!0,checked:c.completed}),r.a.createElement(ke.a,{onChange:n,className:l.inputStyle,defaultValue:c.title,fullWidth:!0,inputProps:{"aria-label":"Title"}}),r.a.createElement(Ie.a,null,r.a.createElement(N.a,{"aria-label":"Open Edit",onClick:a(o.editDone,c),disabled:!i},r.a.createElement(Ne.a,null)),r.a.createElement(N.a,{"aria-label":"Close Edit",onClick:a(o.closeEdit,c)},r.a.createElement(we.a,null))))}),xe=n(132),Ge=n.n(xe),Me=n(133),Ve=n.n(Me),Ue=n(134),ze=n.n(Ue),We=function(e){var t=e.handleClick,n=e.item,a=e.activeClass,o=e.clickHandlers;return r.a.createElement(De.a,{className:a,button:!0,divider:!0,onClick:t(o.toggleDone,n)},r.a.createElement(Le.a,{tabIndex:1,disableRipple:!0,checked:n.completed}),r.a.createElement(Ge.a,{primary:n.title}),r.a.createElement(Ie.a,null,r.a.createElement(N.a,{"aria-label":"Change",onClick:t(o.openEdit,n)},r.a.createElement(Ve.a,null)),r.a.createElement(N.a,{"aria-label":"Delete",onClick:t(o.delete,n)},r.a.createElement(ze.a,null))))},Pe=function(e){function t(){var e,n,a;Object(x.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(M.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(o)))).state={editTodo:!1},a._handleChange=function(e){return a.props.handleValid(e)},a._toggleDone=function(e){var t=e.id;return a.props.doneTodo(t)},a._openEdit=function(e){var t=e.title;a.props.updateState(t,!1),a.setState({editTodo:!0})},a._closeEdit=function(){a.props.updateState("",!1),a.setState({editTodo:!1})},a._editDone=function(e){var t=e.id,n=a.props;(0,n.changeTodo)(t,n.validateValue),a.setState({editTodo:!1})},a._delete=function(e){var t=e.id;return a.props.deleteTodo(t)},a.clickHandlers={toggleDone:"toggleDone",openEdit:"openEdit",closeEdit:"closeEdit",editDone:"editDone",delete:"delete"},a.clickHandlerMap=(n={},Object(_e.a)(n,a.clickHandlers.toggleDone,a._toggleDone),Object(_e.a)(n,a.clickHandlers.openEdit,a._openEdit),Object(_e.a)(n,a.clickHandlers.closeEdit,a._closeEdit),Object(_e.a)(n,a.clickHandlers.editDone,a._editDone),Object(_e.a)(n,a.clickHandlers.delete,a._delete),n),a._handleClick=function(e,t){return function(){return a.clickHandlerMap[e](t)}},a}return Object(U.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.classes,a=e.validate,o=this.state.editTodo,i=t.completed?n.doneItem:n.item;return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(Re,{handleChange:this._handleChange,handleClick:this._handleClick,clickHandlers:this.clickHandlers,item:t,validate:a,activeClass:i}):r.a.createElement(We,{handleClick:this._handleClick,clickHandlers:this.clickHandlers,item:t,activeClass:i}))}}]),t}(a.Component),Qe=Object(_.withStyles)(function(e){return{doneItem:{background:e.palette.dark,textDecoration:"line-through",textDecorationColor:e.palette.common.black},item:{background:e.palette.background.paper}}})(Pe);var Be=Object(l.b)(null,function(e){return{doneTodo:Object(c.bindActionCreators)(K,e),changeTodo:Object(c.bindActionCreators)(X,e),deleteTodo:Object(c.bindActionCreators)(q,e)}})(z(Qe)),Je=n(135),$e=n.n(Je),qe=Object(_.withStyles)(function(e){return{row:{display:"flex"},progress:{margin:"".concat(2*e.spacing.unit,"px auto")}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.row},r.a.createElement($e.a,{className:t.progress,color:"secondary"}))}),Ke=function(e){function t(){return Object(x.a)(this,t),Object(M.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){this.props.getTodoList()}},{key:"render",value:function(){var e=this.props,t=e.todos;return e.loading?r.a.createElement(qe,null):r.a.createElement(ve.a,null,r.a.createElement(Ce.TransitionGroup,null,t.map(function(e){return r.a.createElement(Ce.CSSTransition,{key:e.id,timeout:300,classNames:"fade"},r.a.createElement(Be,{item:e}))})))}}]),t}(a.Component);var Xe=Object(l.b)(function(e){var t=e.todoApp,n=e.filter;return{todos:t.present.todoList.filter(function(e){return n.filteringTodo===O.FILTERING_ALL||e.completed}),loading:t.present.fetching}},function(e){return{getTodoList:Object(c.bindActionCreators)(B,e)}})(Ke),Ye=n(138),Ze=n.n(Ye),et=n(85),tt=n.n(et),nt=n(137),at=n.n(nt),rt=n(136),ot=n.n(rt),it=n(84),lt=n.n(it),ct=Object(_.withStyles)(function(e){return{root:{width:e.myVar.size[300],marginTop:e.myVar.size[50]},badge:{padding:"0 ".concat(2*e.spacing.unit,"px"),background:"transparent"},active:{background:e.palette.grey[300]}}})(function(e){var t=e.done,n=e.length,a=e.filteringTodo,o=e.filter,i=e.classes,l=r.a.createElement(lt.a,{className:i.badge,color:"primary",badgeContent:n},r.a.createElement(ot.a,null)),c=r.a.createElement(lt.a,{className:i.badge,color:"primary",badgeContent:t},r.a.createElement(at.a,null));return r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(Ze.a,{value:a,onChange:function(e,t){return o(t)},showLabels:!0,className:i.root},r.a.createElement(tt.a,{classes:{selected:i.active},label:l,value:O.FILTERING_ALL}),r.a.createElement(tt.a,{classes:{selected:i.active},label:c,value:O.FILTERING_COMPLETED})))});var dt=Object(l.b)(function(e){return{done:P(e),length:W(e),filteringTodo:e.filter.filteringTodo}},function(e){return{filter:Object(c.bindActionCreators)(ee,e)}})(ct),st=Object(_.withStyles)(function(e){return{inputStyles:{width:e.myVar.size[300]}}})(function(e){var t=e.updateState,n=e.validateValue,a=e.handleValid,o=e.showModal,i=e.addTodo,l=e.validate,c=e.modalOpen,d=e.classes,s=function(){t("",!1),o(!1)};return r.a.createElement("div",null,r.a.createElement(Te,null),r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(w.a,{item:!0,md:6},r.a.createElement(dt,null),r.a.createElement(Xe,null))),r.a.createElement(Ee,{open:c,title:"Add new todo",handleClose:s},r.a.createElement(ae.a,null,r.a.createElement(oe.a,{className:d.inputStyles,autoFocus:!0,margin:"dense",id:"name",label:"Todo title",type:"text",onChange:function(e){return a(e)},fullWidth:!0})),r.a.createElement(le.a,null,r.a.createElement(de.a,{onClick:s,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:function(){i(n),s()},disabled:!l,color:"primary"},"Add"))))});var ut=Object(l.b)(function(e){return{modalOpen:e.modal.dialog}},function(e){return{showModal:Object(c.bindActionCreators)(Y,e),addTodo:Object(c.bindActionCreators)($,e)}})(z(st)),mt=Object(_.createMuiTheme)({typography:{useNextVariants:!0},myVar:{size:{600:"600px",500:"500px",400:"400px",300:"300px",200:"200px",100:"100px",50:"50px",16:"16px",10:"10px"},animation:{fade:{"fade-enter":{opacity:.01},"fade-enter-active":{opacity:1,transition:"opacity 500ms ease-in"},"fade-exit":{opacity:1},"fade-exit-active":{opacity:.01,transition:"opacity 500ms ease-in"}}}}}),pt=function(e){return r.a.createElement(_.MuiThemeProvider,{theme:mt}," ",e.children," ")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{store:C},r.a.createElement(function(){return r.a.createElement(pt,null,r.a.createElement("div",{className:"app"},r.a.createElement(te,null),r.a.createElement(ut,null)))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,2,1]]]);
//# sourceMappingURL=main.f171e832.chunk.js.map