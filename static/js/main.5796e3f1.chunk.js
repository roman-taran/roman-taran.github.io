(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,n){e.exports=n(301)},140:function(e,t,n){},301:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),l=n(17),c=n(14),d=n(110),s=n(111),u=n(112),m=n(18),p={FETCH_TODO_FAILURE:"FETCH_TODO_FAILURE",FETCH_TODO_REQUEST:"FETCH_TODO_REQUEST",FETCH_TODO_SUCCESS:"FETCH_TODO_SUCCESS",ADD_TODO:"ADD_TODO",DELETE_TODO:"DELETE_TODO",DONE_TODO:"DONE_TODO",CHANGE_TODO:"CHANGE_TODO",SHOW_MODAL:"SHOW_MODAL",SET_FILTER:"SET_FILTER"},E={open:!1},O=n(130),f={fetching:!1,load:!1,todoList:[]},h={filteringTodo:"all"},b=Object(s.createLogger)(),g=Object(c.combineReducers)({todoApp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.FETCH_TODO_REQUEST:return Object(m.a)({},e,{fetching:t.fetching});case p.FETCH_TODO_SUCCESS:return Object(m.a)({},e,{load:!0,todoList:t.todoList});case p.FETCH_TODO_FAILURE:return Object(m.a)({},e,{load:!1,error:t.error});case p.ADD_TODO:return Object(m.a)({},e,{todoList:Object(O.a)(e.todoList).concat([t.newItem])});case p.DELETE_TODO:return Object(m.a)({},e,{todoList:e.todoList.filter(function(e){return e.id!==t.id})});case p.DONE_TODO:return Object(m.a)({},e,{todoList:e.todoList.map(function(e){return e.id===t.id?Object(m.a)({},e,{completed:!e.completed}):e})});case p.CHANGE_TODO:return Object(m.a)({},e,{todoList:e.todoList.map(function(e){return e.id===t.id?Object(m.a)({},e,{title:t.text}):e})});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SHOW_MODAL:return Object(m.a)({},e,{open:t.open});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SET_FILTER:return{filteringTodo:t.filter};default:return e}}}),T=Object(c.createStore)(g,Object(d.composeWithDevTools)(Object(c.applyMiddleware)(u.a,b))),v=(n(140),n(22)),C=n(113),y=n.n(C),D=n(50),_=n.n(D),j=n(114),k=n.n(j),S=n(23),w=n.n(S),L=n(115),A=n.n(L),H=n(19),x=n.n(H),F=Object(v.withStyles)({margin:{marginLeft:"auto"}})(function(e){var t=e.showModal,n=e.classes;return r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(w.a,{item:!0,md:6},r.a.createElement(y.a,{position:"static",color:"inherit"},r.a.createElement(k.a,null,r.a.createElement(_.a,{variant:"h4",color:"textPrimary"},"TODO App"),r.a.createElement(x.a,{color:"primary",className:n.margin,"aria-label":"Add",onClick:function(){return t(!0)}},r.a.createElement(A.a,{fontSize:"large"}))))))});var N=n(30),I=n(31),R=n(33),M=n(32),V=n(34),U=function(e){return function(t){function n(){var e,t;Object(N.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(R.a)(this,(e=Object(M.a)(n)).call.apply(e,[this].concat(r)))).state={valid:!1,value:""},t._handleChange=function(e){var n=e.target.value;t.setState({value:n,valid:!!n})},t._updateState=function(e,n){t.setState({value:e,valid:n})},t}return Object(V.a)(n,t),Object(I.a)(n,[{key:"render",value:function(){var t=this.state,n=t.valid,a=t.value;return r.a.createElement(e,Object.assign({},this.props,{validate:n,validateValue:a,updateState:this._updateState,handleValid:this._handleChange}))}}]),n}(r.a.Component)},W=function(e){return e.todoApp.todoList.length},z=function(e){return e.todoApp.todoList.filter(function(e){return e.completed}).length},G="https://jsonplaceholder.typicode.com/todos?userId=1";function Q(){return function(e){e(P(!0)),setTimeout(function(){fetch(G).then(function(t){if(!t.ok)throw Error(t.statusText);return e(P(!1)),t}).then(function(e){return e.json()}).then(function(t){return e((n=t,{type:p.FETCH_TODO_SUCCESS,todoList:n}));var n}).catch(function(t){return e(function(e,t){return console.log(t),{type:p.FETCH_TODO_FAILURE,error:e}}(!0,t))})},2e3)}}function P(e){return{type:p.FETCH_TODO_REQUEST,fetching:e}}function B(e){return{type:p.ADD_TODO,newItem:{userId:1,id:(t=10,n=100,Math.random()*(n-t)+t),title:e,completed:!1}};var t,n}function J(e){return{type:p.DELETE_TODO,id:e}}function $(e){return{type:p.DONE_TODO,id:e}}function q(e,t){return{type:p.CHANGE_TODO,text:t,id:e}}function K(e){return{type:p.SHOW_MODAL,open:e}}function X(e){return{type:p.SET_FILTER,filter:e}}var Y=Object(l.b)(null,function(e){return{showModal:Object(c.bindActionCreators)(K,e)}})(F),Z=n(127),ee=n.n(Z),te=n(128),ne=n.n(te),ae=n(129),re=n.n(ae),oe=n(55),ie=n.n(oe),le=n(116),ce=n.n(le),de=n(117),se=n.n(de),ue=Object(v.withStyles)(function(e){return{modalClass:{minWidth:e.myVar.size[400]}}})(function(e){var t=e.open,n=e.handleClose,a=e.title;return r.a.createElement(ce.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(se.a,{id:"form-dialog-title"}," ",a," "),e.children)}),me=n(72),pe=n.n(me),Ee=n(24),Oe=n(52),fe=n.n(Oe),he=n(53),be=n.n(he),ge=n(40),Te=n.n(ge),ve=n(119),Ce=n.n(ve),ye=n(54),De=n.n(ye),_e=n(118),je=n.n(_e),ke=Object(v.withStyles)(function(e){return{inputStyle:{marginRight:e.myVar.size[100],marginLeft:e.myVar.size[16]}}})(function(e){var t=e.activeClass,n=e.handleChange,a=e.handleClick,o=e.clickHandlers,i=e.validate,l=e.classes,c=e.item;return console.log("------TodoItemEdit------ render"),r.a.createElement(fe.a,{className:t,divider:!0},r.a.createElement(be.a,{tabIndex:1,disableRipple:!0,disabled:!0,checked:c.completed}),r.a.createElement(Te.a,{onChange:n,className:l.inputStyle,defaultValue:c.title,fullWidth:!0,inputProps:{"aria-label":"Title"}}),r.a.createElement(De.a,null,r.a.createElement(x.a,{"aria-label":"Open Edit",onClick:a(o.editDone,c),disabled:!i},r.a.createElement(je.a,null)),r.a.createElement(x.a,{"aria-label":"Close Edit",onClick:a(o.closeEdit,c)},r.a.createElement(Ce.a,null))))}),Se=n(120),we=n.n(Se),Le=n(121),Ae=n.n(Le),He=n(122),xe=n.n(He),Fe=function(e){var t=e.handleClick,n=e.item,a=e.activeClass,o=e.clickHandlers;return console.log("------TodoItemDefault------ render"),r.a.createElement(fe.a,{className:a,button:!0,divider:!0,onClick:t(o.toggleDone,n)},r.a.createElement(be.a,{tabIndex:1,disableRipple:!0,checked:n.completed}),r.a.createElement(we.a,{primary:n.title}),r.a.createElement(De.a,null,r.a.createElement(x.a,{"aria-label":"Change",onClick:t(o.openEdit,n)},r.a.createElement(Ae.a,null)),r.a.createElement(x.a,{"aria-label":"Delete",onClick:t(o.delete,n)},r.a.createElement(xe.a,null))))},Ne=function(e){function t(){var e,n,a;Object(N.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(R.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(o)))).state={editTodo:!1},a._handleChange=function(e){return a.props.handleValid(e)},a._toggleDone=function(e){var t=e.id;return a.props.doneTodo(t)},a._openEdit=function(e){var t=e.title;a.props.updateState(t,!1),a.setState({editTodo:!0})},a._closeEdit=function(){a.props.updateState("",!1),a.setState({editTodo:!1})},a._editDone=function(e){var t=e.id,n=a.props;(0,n.changeTodo)(t,n.validateValue),a.setState({editTodo:!1})},a._delete=function(e){var t=e.id;return a.props.deleteTodo(t)},a.clickHandlers={toggleDone:"toggleDone",openEdit:"openEdit",closeEdit:"closeEdit",editDone:"editDone",delete:"delete"},a.clickHandlerMap=(n={},Object(Ee.a)(n,a.clickHandlers.toggleDone,a._toggleDone),Object(Ee.a)(n,a.clickHandlers.openEdit,a._openEdit),Object(Ee.a)(n,a.clickHandlers.closeEdit,a._closeEdit),Object(Ee.a)(n,a.clickHandlers.editDone,a._editDone),Object(Ee.a)(n,a.clickHandlers.delete,a._delete),n),a._handleClick=function(e,t){return function(){return a.clickHandlerMap[e](t)}},a}return Object(V.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.classes,a=e.validate,o=this.state.editTodo,i=t.completed?n.doneItem:n.item;return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(ke,{handleChange:this._handleChange,handleClick:this._handleClick,clickHandlers:this.clickHandlers,item:t,validate:a,activeClass:i}):r.a.createElement(Fe,{handleClick:this._handleClick,clickHandlers:this.clickHandlers,item:t,activeClass:i}))}}]),t}(a.Component),Ie=Object(v.withStyles)(function(e){return{doneItem:{background:e.palette.dark,textDecoration:"line-through",textDecorationColor:e.palette.common.black},item:{background:e.palette.background.paper}}})(Ne);var Re=Object(l.b)(null,function(e){return{doneTodo:Object(c.bindActionCreators)($,e),changeTodo:Object(c.bindActionCreators)(q,e),deleteTodo:Object(c.bindActionCreators)(J,e)}})(U(Ie)),Me=n(123),Ve=n.n(Me),Ue=Object(v.withStyles)(function(e){return{row:{display:"flex"},progress:{margin:"".concat(2*e.spacing.unit,"px auto")}}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.row},r.a.createElement(Ve.a,{className:t.progress,color:"secondary"}))}),We=function(e){function t(){return Object(N.a)(this,t),Object(R.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.getTodoList()}},{key:"render",value:function(){var e=this.props,t=e.todos;return e.loading?r.a.createElement(Ue,null):r.a.createElement(pe.a,null,t.map(function(e){return r.a.createElement(Re,{key:e.id,item:e})}))}}]),t}(a.Component);var ze=Object(l.b)(function(e){var t=e.todoApp,n=e.filter;return{todos:t.todoList.filter(function(e){return"all"===n.filteringTodo||e.completed}),loading:t.fetching}},function(e){return{getTodoList:Object(c.bindActionCreators)(Q,e)}})(We),Ge=n(126),Qe=n.n(Ge),Pe=n(74),Be=n.n(Pe),Je=n(125),$e=n.n(Je),qe=n(124),Ke=n.n(qe),Xe=n(73),Ye=n.n(Xe),Ze=Object(v.withStyles)(function(e){return{root:{width:e.myVar.size[300],marginTop:e.myVar.size[50]},badge:{padding:"0 ".concat(2*e.spacing.unit,"px"),background:"transparent"},active:{background:e.palette.grey[300]}}})(function(e){var t=e.done,n=e.length,a=e.filteringTodo,o=e.filter,i=e.classes,l=r.a.createElement(Ye.a,{className:i.badge,color:"primary",badgeContent:n},r.a.createElement(Ke.a,null)),c=r.a.createElement(Ye.a,{className:i.badge,color:"primary",badgeContent:t},r.a.createElement($e.a,null));return r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(Qe.a,{value:a,onChange:function(e,t){return o(t)},showLabels:!0,className:i.root},r.a.createElement(Be.a,{classes:{selected:i.active},label:l,value:"all"}),r.a.createElement(Be.a,{classes:{selected:i.active},label:c,value:"done"})))});var et=Object(l.b)(function(e){return{done:z(e),length:W(e),filteringTodo:e.filter.filteringTodo}},function(e){return{filter:Object(c.bindActionCreators)(X,e)}})(Ze),tt=Object(v.withStyles)(function(e){return{inputStyles:{width:e.myVar.size[300]}}})(function(e){var t=e.updateState,n=e.validateValue,a=e.handleValid,o=e.showModal,i=e.addTodo,l=e.validate,c=e.modalOpen,d=e.classes,s=function(){t("",!1),o(!1)};return r.a.createElement("div",null,r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(w.a,{item:!0,md:6},r.a.createElement(et,null),r.a.createElement(ze,null))),r.a.createElement(ue,{open:c,title:"Add new todo",handleClose:s},r.a.createElement(ee.a,null,r.a.createElement(ne.a,{className:d.inputStyles,autoFocus:!0,margin:"dense",id:"name",label:"Todo title",type:"text",onChange:function(e){return a(e)},fullWidth:!0})),r.a.createElement(re.a,null,r.a.createElement(ie.a,{onClick:s,color:"primary"},"Cancel"),r.a.createElement(ie.a,{onClick:function(){i(n),s()},disabled:!l,color:"primary"},"Add"))))});var nt=Object(l.b)(function(e){return{modalOpen:e.modal.open}},function(e){return{showModal:Object(c.bindActionCreators)(K,e),addTodo:Object(c.bindActionCreators)(B,e)}})(U(tt)),at=Object(v.createMuiTheme)({typography:{useNextVariants:!0},myVar:{size:{600:"600px",500:"500px",400:"400px",300:"300px",200:"200px",100:"100px",50:"50px",16:"16px",10:"10px"},animation:{fade:{"fade-enter":{opacity:.01},"fade-enter-active":{opacity:1,transition:"opacity 500ms ease-in"},"fade-exit":{opacity:1},"fade-exit-active":{opacity:.01,transition:"opacity 500ms ease-in"}}}}}),rt=function(e){return r.a.createElement(v.MuiThemeProvider,{theme:at}," ",e.children," ")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{store:T},r.a.createElement(function(){return r.a.createElement(rt,null,r.a.createElement("div",{className:"app"},r.a.createElement(Y,null),r.a.createElement(nt,null)))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[131,2,1]]]);
//# sourceMappingURL=main.5796e3f1.chunk.js.map